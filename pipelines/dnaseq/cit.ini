[DEFAULT]
project_name=cit
cluster_other_arg=-A $RAP_ID
cluster_walltime = 6:00:00

chr19=19
strelka2_bed_file=%(assembly_dir)s/annotations/%(scientific_name)s.%(assembly)s.strelka2.bed.gz

[picard_sam_to_fastq]
other_options = VALIDATION_STRINGENCY=LENIENT
cluster_cpu = 1
cluster_mem = 4G
ram = %(cluster_mem)s
cluster_walltime = 0:30:00

[skewer_trimming]
cluster_cpu = 4
threads = %(cluster_cpu)s
cluster_mem = 2G
cluster_walltime = 0:10:00

[bwa_mem]
cluster_cpu = 6
bwa_other_options = -t 6 -K 100000000 -Y

[bwa_mem_sambamba]
cluster_cpu = 6
bwa_other_options = -t %(cluster_cpu)s -K 100000000 -Y
cluster_mem = 12G
cluster_walltime = 0:30:00

[sambamba_sort]
cluster_cpu = 2
cluster_walltime = 0:15:00
cluster_mem = 4G
options = -t 1 -m 3G

[sambamba_sort_sam]
options = -m 10G

[bwa_mem_sambamba_sort_sam]
cluster_cpu = 6
cluster_mem = 40G

[sambamba_extract_unmapped]
cluster_cpu = 1
options = -t %(cluster_cpu)s -f bam -F "unmapped"
cluster_walltime = 0:15:00
cluster_mem = 1G

[dna_sambamba_flagstat]
cluster_cpu = 1
flagstat_options = -t %(cluster_cpu)s
cluster_walltime = 0:10:00
cluster_mem = 500M

[gatk_indel_realigner]
nb_jobs=1
ram = 8G
cluster_walltime = 0:40:00
cluster_mem = 8G

[sambamba_merge_realigned]
cluster_walltime= 4:00:00

[sambamba_mark_duplicates]
cluster_cpu=4
options=-t 4
cluster_mem=16G

[mark_duplicates]
cluster_cpu = 4
ram = 11G
cluster_walltime = 0:20:00
cluster_mem = 12G

[gatk_base_recalibrator]
cluster_cpu = 8 
threads = %(cluster_cpu)s
cluster_mem = 32G
ram = 30G
cluster_walltime = 1:00:00

[gatk_print_reads]
java_other_options = -XX:+UseParallelGC -XX:ParallelGCThreads=2 -Dsamjdk.buffer_size=4194304
cluster_cpu = 8 
threads = %(cluster_cpu)s
cluster_mem = 32G
ram = 30G
cluster_walltime = 0:50:00

[sambamba_merge_unmapped]
cluster_cpu = 4
options = -t %(cluster_cpu)s
cluster_walltime = 0:20:00
cluster_mem = 2G

[delly_call_filter]
cluster_cpu = 1
threads =  %(cluster_cpu)s
cluster_walltime = 0:20:00
cluster_mem = 4G

[sv_annotation]
cluster_walltime = 0:10:00
cluster_mem = 6G

[extract_discordant_reads]
cluster_cpu = 1
sambamba_options = -t %(cluster_cpu)s
discordants_sort_option=-t %(cluster_cpu)s
cluster_walltime = 0:15:00
cluster_mem = 1G

[extract_split_reads]
cluster_cpu = 1 
sambamba_options = -t %(cluster_cpu)s
split_sort_option=-t %(cluster_cpu)s
cluster_walltime = 0:15:00
cluster_mem = 1G

[lumpy_paired_sv_calls]
cluster_walltime = 0:15:00
cluster_cpu = 1
cluster_mem = 2G

[wham_call_sv]
cluster_cpu = 1
cores = %(cluster_cpu)s
cluster_walltime = 0:15:0
cluster_mem = 1G

[gatk_haplotype_caller]
nb_jobs=1
cluster_cpu = %(PINT_CPU)s
cluster_mem = 24G
ram = 20G
cluster_walltime = 1:20:00

[merge_and_call_individual_gvcf]
java_other_options = -XX:+UseParallelGC -XX:ParallelGCThreads=2 -Dsamjdk.buffer_size=4194304
cluster_mem = 32G
ram = 32G
cluster_walltime = 0:40:00
cluster_cpu = 5

[gatk_combine_gvcf]
nb_haplotype=1
nb_batch=1
cluster_mem = 8G
ram = 8G
cluster_cpu = 4 
other_options =
cluster_walltime = 1:00:00

[merge_and_call_combined_gvcf]
cluster_cpu = 2
cluster_mem = 12G
ram = 11G
cluster_walltime = 0:45:00

[sequenza]
nb_jobs=1
pileup_options=-q 20 -N 30

[rawmpileup_panel]
nb_jobs=1
panel=$MUGQIC_INSTALL_HOME/testdata/tumor_pair/SureSelectHumanAllExonV7.%(assembly_alias)s.chr19.Target_ext1k.bed
mpileup_other_options=-d 1000 -L 1000 -B -q 11 -Q 10

[rawmpileup]
nb_jobs=1
mpileup_other_options=-d 1000 -L 1000 -B -q 11 -Q 10 -r %(chr19)s
cluster_walltime = 0:10:00
cluster_mem = 250M

[snp_and_indel_bcf]
approximate_nb_jobs=1
cluster_mem = 1G
cluster_walltime = 0:10:00

[merge_filter_bcf]
cluster_cpu = 1
cluster_mem = 125M
cluster_walltime = 0:10:00

[mpileup_flag_mappability]
cluster_mem = 125M
cluster_walltime = 0:10:00

[mpileup_snp_id_annotation]
cluster_walltime = 0:10:00
cluster_mem = 4G

[mpileup_snp_effect]
cluster_cpu = 2
cluster_walltime = 0:10:00
cluster_mem = 8G

[mpileup_metrics_change_rate]
cluster_mem = 250M
cluster_walltime = 0:10:00

[gatk_mutect2]
nb_jobs=1
options=--pair-hmm-implementation AVX_LOGLESS_CACHING_OMP --native-pair-hmm-threads 6 --max-reads-per-alignment-start 0 --read-validation-stringency LENIENT --af-of-alleles-not-in-resource 0.0000025 --intervals %(chr19)s

[variant_recalibrator]
tranch_other_options_snps=--maxGaussians 2 -resource:hapmap,known=false,training=true,truth=true,prior=15.0 %(hapmap)s -resource:omni,known=false,training=true,truth=false,prior=12.0 %(omni)s -resource:1000G,known=false,training=true,truth=false,prior=10.0 %(1000G)s -resource:dbsnp,known=true,training=false,truth=false,prior=6.0 %(dbsnp)s -an QD -an FS -an DP -an SOR -tranche 100.0 -tranche 99.95 -tranche 99.9 -tranche 99.5 -tranche 99.0 -mode SNP
tranch_other_options_indels=--maxGaussians 2 -resource:mills,known=false,training=true,truth=true,prior=12.0 %(mills)s -resource:dbsnp,known=true,training=false,truth=false,prior=2.0 %(dbsnp)s -an QD -an DP -an FS -an ReadPosRankSum -an SOR -tranche 100.0 -tranche 99.9 -tranche 99.95 -tranche 99.5 -tranche 99.4 -tranche 99.0 -mode INDEL
cluster_walltime = 0:30:00
cluster_cpu = 2
cluster_mem = 12G

[decompose_and_normalize]
cluster_cpu = 1
cluster_mem = 500M
cluster_walltime = 0:10:00

[haplotype_caller_flag_mappability]
cluster_cpu = 1
cluster_mem = 500M
cluster_walltime = 0:10:00

[haplotype_caller_snp_id_annotation]
cluster_walltime = 0:10:00
cluster_mem = 4G

[haplotype_caller_snp_effect]
cluster_cpu = 1
cluster_walltime = 0:10:00
cluster_mem = 6G

[dbnsfp_annotation]
cluster_cpu = 4
cluster_walltime = 0:15:00
cluster_mem = 12G

[gemini_annotations]
cluster_cpu = 4
options = -t snpEff --cores %(cluster_cpu)s --save-info-string
cluster_walltime = 3:00:00
tmp_dir = ${SLURM_TMPDIR}
cluster_mem = 8G

[picard_collect_multiple_metrics]
cluster_cpu = 1
cluster_mem = 8G
ram = 7G
cluster_walltime = 0:15:00

[picard_collect_oxog_metrics]
cluster_mem = 8G
ram = 7G
cluster_walltime = 0:20:00

[picard_collect_gcbias_metrics]
cluster_mem = 8G
ram = 7G
cluster_walltime = 0:15:00

[dna_sample_qualimap]
cluster_mem = 8G
ram = 8G
use_bed = false
cluster_cpu = 8
qualimap_options = --skip-duplicated -nt %(cluster_cpu)s -gd HUMAN
cluster_walltime = 0:20:00

[fastqc]
cluster_cpu = 1
threads = %(cluster_cpu)s
cluster_walltime = 0:10:00
cluster_mem = 1G

[gatk_depth_of_coverage]
cluster_walltime = 1:30:00
cluster_cpu = 2

[bvatools_depth_of_coverage]
cluster_mem = 24G
ram = 24G
cluster_cpu = 4
threads = %(cluster_cpu)s
cluster_walltime = 0:20:00

[igvtools_compute_tdf]
ram = 4G
cluster_walltime = 0:10:00
cluster_cpu = 1
cluster_mem = 4G

[gatk_callable_loci]
java_other_options = -XX:ParallelGCThreads=2
cluster_mem = 8G
ram = 7G
cluster_cpu = 2
cluster_walltime = 0:30:00

[extract_common_snp_freq]
cluster_cpu = 2
cluster_walltime = 0:15:00
cluster_mem = 8G

[baf_plot]
cluster_cpu = 8
cluster_walltime = 0:15:00
cluster_mem = 32G

[multiqc_all_samples]
cluster_walltime = 0:10:00
cluster_mem = 500M

[vardict_paired]
nb_jobs=1

[strelka2_paired_somatic]
bed_file=%(strelka2_bed_file)s

[strelka2_paired_germline]
bed_file=%(strelka2_bed_file)s

[gatk_variant_annotator]
nb_jobs=1

[gatk_variant_annotator_somatic]
other_options=-nt 1 --dbsnp %(known_variants)s -G StandardAnnotation -G StandardSomaticAnnotation -A HomopolymerRun -A Coverage -A DepthPerAlleleBySample -A ClippingRankSumTest -A BaseQualityRankSumTest -A MappingQualityRankSumTest -A MappingQualityZeroBySample -A LowMQ -A ReadPosRankSumTest -A GCContent --intervals %(chr19)s

[gatk_variant_annotator_germline]
other_options=-nt 1 --dbsnp %(known_variants)s -A HomopolymerRun -A Coverage -A DepthPerAlleleBySample -A ClippingRankSumTest -A BaseQualityRankSumTest -A MappingQualityRankSumTest -A MappingQualityZeroBySample -A LowMQ -A ReadPosRankSumTest -A GCContent --intervals %(chr19)s

[cnvkit_batch]
access = /cvmfs/ref.mugqic/testdata/dnaseq/%(scientific_name)s.%(assembly)s.access-5k-mappable.chr19.bed
cluster_cpu = 1
threads = %(cluster_cpu)s
cluster_walltime = 0:10:00
cluster_mem = 1G
segment_options = -m cbs -t 0.00001 -p 1

[metasv_ensemble]
cluster_cpu = 4
threads = %(cluster_cpu)s
cluster_walltime = 0:30:00
cluster_mem = 8G

[run_breakseq2]
options = --chromosomes %(chr19)s
gff = /cvmfs/ref.mugqic/testdata/dnaseq/%(scientific_name)s.%(assembly)s.breakseq2_bplib_20150129.chr19.gff
cluster_cpu = 1
threads = %(cluster_cpu)s
cluster_walltime = 0:20:00

[run_checkmate]
cluster_walltime = 0:10:00
cluster_mem = 500M

[verify_bam_id]
cluster_cpu = 1
cluster_walltime = 0:10:00
cluster_mem = 250M

[vcftools_depth]
cluster_walltime = 0:10:00
cluster_mem = 125M

[gatk_crosscheck_fingerprint]
cluster_cpu = 1
options = --NUM_THREADS %(cluster_cpu)s --EXIT_CODE_WHEN_MISMATCH 0
cluster_mem = 500M
ram = 500M
cluster_walltime = 0:10:00

[gatk_cluster_crosscheck_metrics]
cluster_mem = 500M
ram = 500M
cluster_walltime = 0:10:00

[sym_link_final_bam]
cluster_mem = 125M
cluster_walltime = 0:10:00

[samtools_cram_output]
cluster_cpu = 1
cluster_walltime = 1:10:00
cluster_mem = 1G
